name: aws deployment  


on: workflow_dispatch
jobs:
    deploy:
      runs-on: self-hosted
      steps:
        - name: "nodejs setup"
          uses: actions/setup-node@v4
          with:
              node-version: "21"
        - name: "checkout code"
          uses: actions/checkout@v2
        - name: "install dependency"
          run: npm install
        - name: "install pm2 globally"
          run: npm install pm2 -g
        - name: "run the test"
          run: npm test
        - name: "deploy on aws"
          run: pm2 start app.js




          
          

